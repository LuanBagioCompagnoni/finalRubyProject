<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <%= stylesheet_link_tag 'operationForm', media: 'all' %>
</head>


<%= form_with(model: operation, local: true, html: { class: 'mb-3' } ) do |form| %>
  <% if operation.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(operation.errors.count, "error") %> prohibited this operation from being saved:</h2>

      <ul>
      <% operation.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="mb-3">
    <%= form.label :clientOrigin, class: 'form-label' %>
    <%= form.collection_select(:clientOrigin, Client.all, :id, :name, { prompt: 'Select an client' }, class: 'form-select', required: true) %>
  </div>

  <div class="mb-3">
    <%= form.label :clientDestination, class: 'form-label' %>
    <%= form.collection_select(:clientDestination, Client.all, :id, :name, { prompt: 'Select an client' }, class: 'form-select', required: true) %>
  </div>

  <div class="mb-3">
  <%= form.label :value, class: 'form-label', id: "value-input" %>
  <%= form.text_field :value, class: 'form-control', 'aria-label': 'Amount (to the nearest dollar)', required: true %>
  </div>

  <div>
    <%= form.submit 'Submit', class: 'button btn btn-primary', required: true %>
  </div> 
<% end %>


<script>
  document.getElementById('value-input').addEventListener('input', function() {
    this.value = this.value.replace(/,/g, '.');
  });
</script>